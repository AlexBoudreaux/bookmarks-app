# Ralph Progress Log

Started: 2026-01-22

## Codebase Patterns

(Add reusable patterns here as you discover them)

- Supabase client: Use `@/lib/supabase` for all database queries
- Components: Use shadcn/ui from `@/components/ui/`
- Styling: Tailwind + `cn()` from `@/lib/utils`
- Path alias: `@/*` maps to `./src/*`
- Testing: Vitest for unit tests (`src/**/*.test.ts`), Playwright for E2E (`e2e/**/*.spec.ts`)
- Test imports: Use `@/` path alias in tests (configured in vitest.config.ts)

## Key Files

- `src/lib/supabase.ts` - Supabase client
- `supabase/migrations/` - Database migrations
- `PRD.md` - Full product requirements
- `CLAUDE.md` - Coding conventions

---

## 2026-01-22 - SETUP-001
- Verified Vitest infrastructure was already configured
- Created sample test in `src/lib/utils.test.ts`
- Test validates `cn()` function merges classes correctly using clsx + tailwind-merge
- All 6 test cases pass: basic merge, conditionals, conflicting classes, empty inputs, null/undefined, arrays/objects
- Build passes with no type errors

**Files changed:**
- `src/lib/utils.test.ts` (created)
- `package.json` (added happy-dom and @vitest/ui)

**Learnings:**
- Vitest config was already set up with jsdom environment, path aliases (@/), and test setup file
- The cn() utility combines clsx (conditional classes) with tailwind-merge (resolves conflicting Tailwind classes)
- Test naming pattern: `src/**/*.test.ts` for unit tests, `e2e/**/*.spec.ts` for E2E tests

---

## 2026-01-22 - SETUP-002
- Generated TypeScript types from Supabase remote database
- Used `supabase gen types typescript --linked` to generate from linked project
- Created `src/types/database.ts` with complete type definitions
- Includes all four tables: bookmarks, categories, settings, bookmark_categories
- Build passes with no type errors

**Files changed:**
- `src/types/database.ts` (created)

**Learnings:**
- Supabase CLI can generate types from remote project using `--linked` flag
- No need for local Docker instance to generate types
- Generated types include Row, Insert, Update types for each table plus utility types
- Types include the `embedding` vector column for future semantic search

---
